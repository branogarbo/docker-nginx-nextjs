{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport useSWR from 'swr';\nimport { useState } from 'react';\n\nlet fetcher = async (...args) => {\n  let res = await fetch(...args);\n  return res.json();\n};\n\nexport default function ApiGet() {\n  let {\n    0: shouldFetch,\n    1: setShouldFetch\n  } = useState(false);\n  let {\n    data,\n    error\n  } = useSWR(shouldFetch ? '/api/apitest' : null, fetcher);\n\n  let Comp = ({\n    message\n  }) => __jsx(\"div\", null, __jsx(\"div\", null, message), __jsx(\"button\", {\n    onClick: () => setShouldFetch(true)\n  }, \"get data\"));\n\n  if (error) return __jsx(Comp, {\n    message: \"failed to load\"\n  });\n  if (!data) return __jsx(Comp, {\n    message: shouldFetch ? 'Loading...' : 'click for data'\n  });\n  return __jsx(Comp, {\n    message: data.message\n  });\n}","map":null,"metadata":{},"sourceType":"module"}