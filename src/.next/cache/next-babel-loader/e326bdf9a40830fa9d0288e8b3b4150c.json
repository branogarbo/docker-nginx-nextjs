{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\nimport useSWR from 'swr';\n\nlet fetcher = async (...args) => {\n  let res = await fetch(...args);\n  return res.json();\n};\n\nexport default function DbFetcher() {\n  let {\n    0: shouldFetch,\n    1: setShouldFetch\n  } = useState(false);\n  let {\n    data,\n    error\n  } = useSWR(shouldFetch ? '/api/dbtest' : null, fetcher);\n\n  let Comp = ({\n    message\n  }) => __jsx(\"div\", null, __jsx(\"div\", null, message), __jsx(\"button\", {\n    onClick: () => setShouldFetch(true)\n  }, \"get database docs\"));\n\n  if (error) return __jsx(Comp, {\n    message: \"failed to load data\"\n  });\n  if (!data) return __jsx(Comp, {\n    message: shouldFetch ? \"loading...\" : \"click to query database\"\n  });\n  return __jsx(Comp, {\n    message: data.message\n  });\n}","map":null,"metadata":{},"sourceType":"module"}